<div class="text-900 font-medium text-xl mb-3">Detail Profil</div>
<p class="m-0 mb-4 p-0 text-600 line-height-3 mr-3">
  Detail profil anda. Anda dapat mengupdate foto profil, nama dan email
</p>
<p-card>
  <div class="grid formgrid p-fluid">
    <div class="mb-4 col-12">
      <div class="flex flex-column align-items-center justify">
        <div
          *ngIf="photoURL"
          id="avatar"
          class="mb-2"
          [style.background-image]="'url(' + photoURL + ')'"
        ></div>
        <div
          *ngIf="!photoURL"
          id="avatar"
          class="mb-2"
          style="
            background-image: url(/assets/images/profile-placeholder-black.png);
          "
        ></div>
        <div class="w-4rem">
          <p-button
            type="button"
            styleClass="p-button-text"
            label="edit"
            (click)="upFile.click()"
          ></p-button>
          <input
            #upFile
            type="file"
            class="hidden"
            (change)="uploadImage($event)"
          />
        </div>
      </div>
    </div>
    <div class="mb-4 col-12">
      <ul class="list-none p-0 m-0">
        <li
          class="flex align-items-center py-3 px-2 border-top-1 surface-border flex-wrap"
        >
          <div class="text-500 w-8 md:w-3 font-medium">Nama</div>
          <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
            <span *ngIf="!editName && user"> {{ user.displayName }} </span>
            <div *ngIf="editName" class="w-full md:w-7">
              <input
                id="name"
                type="text"
                pInputText
                placeholder="John Doe"
                [formControl]="displayName"
              />
            </div>
          </div>
          <div class="w-4 md:w-1 flex justify-content-end">
            <button
              *ngIf="!editName"
              pButton
              label="Edit"
              icon="pi pi-pencil"
              class="p-button-text"
              (click)="editName = !editName"
            ></button>
            <button
              *ngIf="editName"
              pButton
              icon="pi pi-times"
              class="p-button-danger p-button-text"
              (click)="editName = !editName"
            ></button>
            <button
              *ngIf="editName"
              pButton
              icon="pi pi-check"
              class="p-button-success p-button-text"
              (click)="updateDisplayName()"
            ></button>
          </div>
        </li>
        <li
          class="flex align-items-center py-3 px-2 border-top-1 border-bottom-1 surface-border flex-wrap"
        >
          <div class="text-500 w-8 md:w-3 font-medium">Email</div>
          <div class="text-900 w-full md:w-8 md:flex-order-0 flex-order-1">
            <span *ngIf="!editEmail && user"> {{ user.email }} </span>
            <div *ngIf="editEmail" class="w-full md:w-7">
              <input
                id="email"
                type="text"
                pInputText
                placeholder="johndoe@mail.com"
                [formControl]="email"
              />
              <p-messages
                [value]="email.hasError('pattern') ? messages : []"
                [enableService]="false"
                [closable]="false"
              ></p-messages>
            </div>
          </div>
          <div class="w-4 md:w-1 flex justify-content-end">
            <button
              *ngIf="!editEmail"
              pButton
              label="Edit"
              icon="pi pi-pencil"
              class="p-button-text"
              (click)="editEmail = !editEmail"
            ></button>
            <button
              *ngIf="editEmail"
              pButton
              icon="pi pi-times"
              class="p-button-danger p-button-text"
              (click)="editEmail = !editEmail"
            ></button>
            <button
              *ngIf="editEmail"
              pButton
              icon="pi pi-check"
              class="p-button-success p-button-text"
              (click)="updateEmail()"
            ></button>
          </div>
        </li>
      </ul>
    </div>
    <div class="field mb-4 col-12 text-lg"></div>
  </div>
</p-card>
